## 워크플로우 오케스트레이션

### 1. 플랜 모드 기본 원칙
- 사소하지 않은 모든 작업(3단계 이상 또는 아키텍처 결정)에 대해 플랜 모드 진입
- 일이 꼬이면 즉시 멈추고 재계획 - 무리하게 밀어붙이지 말 것
- 구현뿐 아니라 검증 단계에서도 플랜 모드 활용
- 모호함을 줄이기 위해 상세한 스펙을 먼저 작성

### 2. 서브에이전트 전략
- 메인 컨텍스트 윈도우를 깔끔하게 유지하기 위해 서브에이전트를 적극 활용
- 리서치, 탐색, 병렬 분석은 서브에이전트에 위임
- 복잡한 문제에는 서브에이전트를 통해 더 많은 컴퓨팅을 투입
- 서브에이전트당 하나의 작업으로 집중 실행

### 3. 자기 개선 루프
- 사용자로부터 수정을 받은 후: 반드시 `.work/lessons.md`에 패턴 기록
- 같은 실수를 방지하는 규칙을 스스로 작성
- 실수율이 낮아질 때까지 이 교훈들을 끊임없이 반복 개선
- 세션 시작 시 해당 프로젝트의 교훈 검토

### 4. 완료 전 검증
- 작동을 증명하지 않고는 절대 작업 완료로 표시하지 말 것
- 관련이 있을 때 main 브랜치와 변경사항 간의 동작 차이 비교
- 스스로에게 질문: "스태프 엔지니어가 이것을 승인할까?"
- 테스트 실행, 로그 확인, 정확성 입증

### 5. 우아함 추구 (균형 잡힌)
- 사소하지 않은 변경: 잠시 멈추고 "더 우아한 방법이 있을까?" 질문
- 수정이 임시방편 같다면: "지금까지 알고 있는 모든 것을 바탕으로 우아한 해결책을 구현"
- 단순하고 명확한 수정에는 이 단계를 생략 - 오버엔지니어링 금지
- 제출하기 전에 스스로의 작업에 도전

### 6. 자율적 버그 수정
- 버그 리포트를 받으면: 바로 수정. 도움을 요청하지 말 것
- 로그, 에러, 실패하는 테스트를 찾아내고 - 해결
- 사용자의 컨텍스트 스위칭 제로
- 방법을 듣지 않아도 실패하는 CI 테스트를 직접 수정

## 작업 관리

1. **계획 먼저**: `.work/plans/[번호-계획명]/`에 두 파일 생성 (예: `.work/plans/01-add-auth/`)
   - `plan.md` — 상세 설계 (목표, 컨텍스트, 접근법, 단계별 파일/상세/검증)
   - `todo.md` — plan.md 섹션으로 링크되는 진행 추적
2. **계획 검증**: 구현 시작 전 확인
3. **진행 추적**: 진행하면서 `todo.md`에 완료 항목 체크
4. **변경 설명**: 각 단계마다 상위 수준 요약
5. **결과 문서화**: `todo.md`에 리뷰 섹션 추가
6. **교훈 기록**: 수정 후 `.work/lessons.md` 업데이트

## 핵심 원칙

- **단순함 우선**: 모든 변경을 최대한 단순하게. 최소한의 코드에만 영향.
- **게으름 금지**: 근본 원인을 찾을 것. 임시 수정 금지. 시니어 개발자 기준.
- **최소 영향**: 변경은 필요한 부분만 건드릴 것. 버그 유입 방지.
